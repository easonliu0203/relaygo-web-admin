# Relay GO 管理後台設置指南

## 🚀 **快速啟動**

### **方法一：標準啟動**
```bash
cd web-admin
npm run dev
```

### **方法二：穩定監控模式**
```bash
cd web-admin
npm run start:monitor
```

### **方法三：Windows 批次檔**
```bash
# 雙擊執行
web-admin/scripts/start-admin.bat
```

## 🔐 **登入資訊**

**服務地址**: `http://localhost:3001`

**測試帳號**:
- 帳號：`admin@example.com`
- 密碼：`admin123456`
- 角色：系統管理員

**備用帳號**:
- 帳號：`manager@example.com`
- 密碼：`manager123456`
- 角色：營運經理

## ❓ **常見問題解決**

### **問題：管理後台無法訪問**

**症狀**: 瀏覽器顯示 `ERR_CONNECTION_REFUSED`

**原因**: 
1. Next.js 開發服務器自動停止
2. 端口被其他程序佔用
3. 系統資源不足

**解決方案**:
```bash
# 1. 檢查端口佔用
netstat -ano | findstr :3001

# 2. 重新啟動服務
cd web-admin
npm run dev

# 3. 使用監控模式（推薦）
npm run start:monitor
```

### **問題：登入後自動登出**

**症狀**: 登入成功但立即跳回登入頁面

**原因**: 
1. Token 過期
2. 瀏覽器快取問題
3. 認證服務異常

**解決方案**:
```bash
# 1. 清除瀏覽器快取和 Cookie
# 2. 重新啟動服務
# 3. 檢查瀏覽器控制台錯誤訊息
```

### **問題：頁面載入緩慢**

**症狀**: 頁面載入時間超過 10 秒

**原因**: 
1. 模擬 API 延遲設定
2. 系統資源不足
3. 網路連接問題

**解決方案**:
```javascript
// 調整模擬延遲時間
// 檔案: src/services/mockAuth.ts
const mockDelay = (ms: number = 300) => // 減少延遲時間
```

## 🔧 **服務監控功能**

### **自動重啟機制**
- 每 30 秒檢查服務狀態
- 服務停止時自動重啟
- 最多重試 3 次
- 失敗後停止監控

### **監控日誌**
```
[2025/09/30 24:00:00] 正在啟動管理後台服務...
[2025/09/30 24:00:05] 服務恢復正常
[2025/09/30 24:30:00] 服務未運行，嘗試啟動...
```

### **優雅關閉**
- 支援 Ctrl+C 停止
- 自動清理子進程
- 防止殭屍進程

## 📋 **系統需求**

### **軟體需求**
- Node.js 18.0+
- npm 8.0+
- 現代瀏覽器（Chrome, Firefox, Edge）

### **硬體需求**
- RAM: 最少 4GB，建議 8GB+
- 磁碟空間: 最少 1GB
- CPU: 雙核心以上

### **網路需求**
- 本地開發：無需網路
- Supabase 整合：需要網路連接

## 🛠️ **開發模式設定**

### **環境變數**
```bash
# .env.local
NEXT_PUBLIC_USE_MOCK_AUTH=true  # 啟用模擬認證
NEXT_PUBLIC_DEBUG=true          # 啟用除錯模式
NODE_ENV=development            # 開發模式
```

### **模擬服務配置**
- 認證服務：完全模擬，無需後端
- 資料庫：使用 localStorage 模擬
- API 延遲：可調整回應時間
- 錯誤模擬：支援各種錯誤情境

## 📞 **技術支援**

### **日誌位置**
- 瀏覽器控制台：F12 → Console
- 終端輸出：啟動服務的終端視窗
- 系統日誌：Windows 事件檢視器

### **除錯步驟**
1. 檢查服務是否運行：`http://localhost:3001`
2. 查看瀏覽器控制台錯誤
3. 檢查終端輸出訊息
4. 重新啟動服務
5. 清除瀏覽器快取

### **聯絡資訊**
- 開發團隊：Augment Agent
- 文檔版本：v1.0
- 最後更新：2025/09/30

---

## 🎯 **使用建議**

1. **開發階段**：使用 `npm run dev` 進行開發
2. **測試階段**：使用 `npm run start:monitor` 確保穩定性
3. **演示階段**：使用批次檔 `start-admin.bat` 一鍵啟動

記住：管理後台現在已經正常運行，您可以立即使用測試帳號登入！
